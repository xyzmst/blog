<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="renderer" content="webkit|ie-comp|ie-stand"><meta name="referrer" content="origin-when-cross-origin"><meta name="theme-color" content="#333333"><meta name="mobile-web-app-capable" content="yes"><meta name="google" content="notranslate"><meta name="format-detection" content="telephone=no"><meta name="keyword" content="Web, Js, CSS, Node.js, Frontend, Flutter, Docker"><meta name="description" content="æƒ³å†™ä»€ä¹ˆå°±å†™ä»€ä¹ˆ"><title>ä½¿ç”¨ Provider ç®¡ç† Flutter åº”ç”¨çŠ¶æ€ (ä¸Š) - å†·çŸ³çš„åšå®¢</title><base href="/"><link rel="preconnect" href="//cdnjs.cloudflare.com"><link rel="manifest" href="/manifest.json"><link rel="shortcut icon" href="/icons/icon-72x72.png"><link rel="apple-touch-icon" href="/icons/icon-192x192.png"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.9/styles/atom-one-light.min.css"><link rel="stylesheet" href="/styles/sanitize.css"><link rel="stylesheet" href="/styles/cold-stone.css"><noscript><p class="text-center">ä½ çš„æµè§ˆå™¨è¿˜æ²¡å¼€å¯ Javascript åŠŸèƒ½ï¼</p></noscript></head><body><main class="main wrapper"><article class="article slide-in-right"><section><h1 class="article-title">ä½¿ç”¨ Provider ç®¡ç† Flutter åº”ç”¨çŠ¶æ€ (ä¸Š)</h1><p class="article-meta"><span class="meta-info"><span>æœ€åæ›´æ–°&#58;<time class="post-time" datetime="2019-10-09">2019-10-09</time> </span><span>å­—æ•°&#58; 1.9k</span> <span>é˜…è¯»æ—¶é—´&#58; 9 min</span> <span class="hide" id="busuanzi_container_page_pv">æœ¬æ–‡é˜…è¯»é‡&#58; <span id="busuanzi_value_page_pv"></span></span> </span><a class="meta-link hover-underline-animation" id="back">ä¸Šä¸€é¡µ</a> <a class="meta-link hover-underline-animation" href="/">é¦–é¡µ</a></p></section><section class="article-content"><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€ä¸ªåº”ç”¨å†…é€šå¸¸ä¼šæœ‰ä¸¤ç§æ•°æ®ï¼Œéƒ¨ä»¶å†…éƒ¨çš„ä½¿ç”¨çš„ä¸´æ—¶æ€§æ•°æ®ä»¥åŠå¾ˆå¤šéƒ¨ä»¶ä½¿ç”¨çš„å…¨å±€æ€§æ•°æ®ï¼Œéƒ¨ä»¶å†…éƒ¨ä½¿ç”¨çš„æ•°æ®å¯ä»¥é€šè¿‡ StatefulWidget æ¥ç®¡ç†ï¼Œä½†æ˜¯å…¨å±€æ€§çš„æ•°æ®å¦‚æœé€šè¿‡ä»ä¸Šåˆ°ä¸‹ä¼ é€’çš„æ–¹å¼ä¼šä½¿ä»£ç å†™çš„ååˆ†ç¹çï¼Œè¿™æ—¶å°±éœ€è¦ä¸€ä¸ªçŠ¶æ€ç®¡ç†å·¥å…·æ¥è¿›è¡Œç®¡ç†äº†ï¼Œæœ¬æ–‡è¯´æ˜å¦‚ä½•ä½¿ç”¨ Provider æ¥ç®¡ç†è¿™ç§åº”ç”¨çš„å…¨å±€æ€§çš„æ•°æ®</p><h2 id="ä»€ä¹ˆæ˜¯-Provider"><a href="#ä»€ä¹ˆæ˜¯-Provider" class="headerlink" title="ä»€ä¹ˆæ˜¯ Provider"></a>ä»€ä¹ˆæ˜¯ Provider</h2><p>å®˜æ–¹çš„å®šä¹‰æ˜¯ï¼š A mixture between dependency injection (DI) and state management, built with widgets for widgets. ç¿»è¯‘è¿‡æ¥å¤§æ„æ˜¯ä¸€ç§ä¾èµ–æ³¨å…¥å’ŒçŠ¶æ€ç®¡ç†çš„æ··åˆæ–¹æ¡ˆï¼Œä½¿ç”¨éƒ¨ä»¶åˆ›å»ºï¼Œä½œç”¨äºéƒ¨ä»¶ ğŸ˜…</p><p><a href="https://pub.flutter-io.cn/documentation/provider/latest/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p><h2 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-Provider"><a href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-Provider" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Provider"></a>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Provider</h2><p>åº”ç”¨ä¸­é€šå¸¸ä¼šæœ‰ä¸€äº›å¾ˆå¤šéƒ¨ä»¶éƒ½éœ€è¦çš„æ•°æ®ï¼Œå¦‚ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ï¼Œç”¨æˆ·è®¾ç½®ï¼Œåœ°ç†ä½ç½®ç­‰ï¼Œå¦‚æœåªæ˜¯ä½¿ç”¨ StatefullWeight çš„è¯å°±éœ€è¦å°†çŠ¶æ€æå‡åˆ°ä¸€ä¸ªçˆ¶éƒ¨ä»¶ä¸­ç„¶åå‘ä¸‹è¿›è¡Œä¼ é€’ï¼Œä¼šå¾ˆç¹çï¼Œä½¿ç”¨ provider çš„è¯å¯ä»¥å°†å¯¹ä¸€ç§çŠ¶æ€æ•°æ®çš„æ“ä½œæ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶å†…ï¼Œç„¶åä½¿ç”¨åˆ°è¿™ä¸ªæ•°æ®çš„éƒ¨ä»¶åªéœ€è¦ä½¿ç”¨å°±å¯ä»¥äº†ï¼Œå½“æ•°æ®æœ‰å˜åŒ–æ—¶ï¼Œéƒ¨ä»¶ä¼šè‡ªåŠ¨çš„é‡æ–°æ„å»ºï¼Œä½¿ç•Œé¢æ›´æ–°ã€‚</p><h2 id="ä¸€ä¸ªä¾‹å­-ğŸŒ°"><a href="#ä¸€ä¸ªä¾‹å­-ğŸŒ°" class="headerlink" title="ä¸€ä¸ªä¾‹å­ ğŸŒ°"></a>ä¸€ä¸ªä¾‹å­ ğŸŒ°</h2><p>ä½¿ç”¨ä¸€ä¸ª todo åº”ç”¨æ¥è¯´æ˜å¦‚ä½•åœ¨ Flutter åº”ç”¨ä¸­ä½¿ç”¨ Providerï¼Œæœ€ç»ˆçš„å®Œæˆçš„åº”ç”¨æ˜¯è¿™æ ·çš„ï¼Œå¯ä»¥æ–°å¢ï¼Œç¼–è¾‘å’Œåˆ é™¤ todoã€‚</p><p><a href="https://github.com/xrr2016/flutter_provider_todos" target="_blank" rel="noopener">æºç åœ°å€</a></p><img src="images/provider-todos.png" width="360" style="max-width:360px"><h3 id="åˆ›å»ºåº”ç”¨"><a href="#åˆ›å»ºåº”ç”¨" class="headerlink" title="åˆ›å»ºåº”ç”¨"></a>åˆ›å»ºåº”ç”¨</h3><p>é¦–å…ˆä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»ºä¸€ä¸ªé¡¹ç›®</p><pre><code class="sh">flutter create flutter_provider_todos</code></pre><p>ç„¶ååœ¨é¡¹ç›®çš„ pubspec.yml æ·»åŠ  provider</p><pre><code class="yml">dependencies:
  provider: ^3.1.0</code></pre><p>åˆ›å»ºä¸€ä¸ª store æ–‡ä»¶å¤¹ä»¥åŠ todos.dart ç”¨æ¥å­˜æ”¾åº”ç”¨ä¸­éœ€è¦ç”¨åˆ°çš„å…¨å±€æ€§æ•°æ®ï¼Œæ–°å»ºä¸€ä¸ª widget ç›®å½•ï¼Œç”¨æ¥å­˜æ”¾åº”ç”¨ä¸­çš„éƒ¨ä»¶ä»¥åŠä¸€ä¸ªæ˜¾ç¤º todo çš„é¡µé¢ todos_page.dart</p><img src="images/todos-folder.jpg" width="360" style="max-width:360px"><p>é¦–å…ˆåˆ›å»º todos è¿™ä¸ªå…¨å±€æ€§çš„æ•°æ®ï¼Œä¿®æ”¹ store/todos.dartï¼Œåˆ›å»ºä¸€ä¸ª Todo ç±»è¡¨ç¤ºä¸€ä¸ªä»£åŠäº‹é¡¹ï¼Œç„¶åå®ç° Todos ç±»ï¼Œ Todos æ··åˆäº† ChangeNotifier ç±»ï¼Œä¸ºäº†ä½¿ç”¨ notifyListeners æ–¹æ³•æ¥é€šçŸ¥ UI æ›´æ–°ï¼Œå› æ­¤éœ€è¦å¯¼å…¥ foundation.dartï¼ŒTodos ç±»ä½¿ç”¨ä¸€ä¸ª _items æ•°ç»„å­˜æ”¾ Todo æ•°æ®ï¼Œä»¥åŠå…¶å®ƒå¯¹ Todo è¿›è¡Œæ“ä½œçš„æ–¹æ³•ã€‚</p><pre><code class="dart">import &#39;package:flutter/foundation.dart&#39;;

class Todo {
  bool finish;
  String thing;

  Todo({
    @required this.thing,
    this.finish = false,
  });
}

class Todos extends ChangeNotifier {
  List&lt;Todo&gt; _items = [
    Todo(thing: &#39;Play lol&#39;, finish: true),
    Todo(thing: &#39;Learn flutter&#39;, finish: false),
    Todo(thing: &#39;Read book&#39;, finish: false),
    Todo(thing: &#39;Watch anime&#39;, finish: false),
  ];

  get items {
    return [..._items];
  }

  get finishTodos {
    return _items.where((todo) =&gt; todo.finish);
  }

  void refresh() {
    notifyListeners();
  }

  void addTodo(Todo todo) {
    _items.insert(0, todo);

    refresh();
  }

  void removeTodo(int index) {
    _items.removeAt(index);

    refresh();
  }

  void editTodo(int index, String newThing, bool isFinish) {
    Todo todo = _items[index];
    todo.thing = newThing;
    todo.finish = isFinish;

    refresh();
  }

  void toggleFinish(int index) {
    final todo = _items[index];
    todo.finish = !todo.finish;

    refresh();
  }

  bool isTodoExist(String thing) {
    bool isExist = false;

    for (var i = 0; i &lt; _items.length; i++) {
      final todo = _items[i];
      if (todo.thing == thing) {
        isExist = true;
      }
    }

    return isExist;
  }
}
</code></pre><p>ç„¶åä½¿ç”¨ provider æä¾›çš„ ChangeNotifierProvider æ–¹æ³•å°†æ•°æ®æ³¨å†Œåˆ°æ•´ä¸ªåº”ç”¨ï¼Œå¦‚æœæœ‰å¤šä¸ªæ•°æ®å°±éœ€è¦ä½¿ç”¨ MultiProvider æ–¹æ³•</p><pre><code class="dart">import &#39;package:flutter/material.dart&#39;;
import &#39;package:provider/provider.dart&#39;;

import &#39;todos_page.dart&#39;;
import &#39;store/todos.dart&#39;;

void main() =&gt; runApp(MyApp());

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: &#39;Todos&#39;,
      debugShowCheckedModeBanner: false,
      theme: ThemeData(
        primarySwatch: Colors.green,
      ),
      home: ChangeNotifierProvider(
        builder: (context) =&gt; Todos(),
        child: TodosPage(),
      ),
    );
  }
}</code></pre><h3 id="åˆ—è¡¨é¡µé¢"><a href="#åˆ—è¡¨é¡µé¢" class="headerlink" title="åˆ—è¡¨é¡µé¢"></a>åˆ—è¡¨é¡µé¢</h3><p>æ¥ç€å°±æ˜¯å®ç°æ˜¾ç¤º todo åˆ—è¡¨çš„é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢å°±æ˜¯è¦ç”¨åˆ° Todos ç±»é‡Œé¢çš„æ•°æ®çš„éƒ¨ä»¶ï¼Œè¦ä½¿ç”¨ provider çš„æ•°æ®é¦–å…ˆè¦å¯¼å…¥ provider ä»¥åŠå¯¹åº”çš„æ•°æ®ç±» Todosï¼Œç„¶åç”¨ Consumer åŠ ç±»å‹ Todos æ¥ä½¿ç”¨è¿™ä¸ªæ•°æ®</p><pre><code class="dart">Consumer&lt;Todos&gt;(
  builder: (ctx, todos, child) {
    return YourWidget()
  },
)</code></pre><p>è¿™ä¸ªé¡µé¢ä½¿ç”¨äº†ä¸€ä¸ª ListView.builder() æ¥æ¸²æŸ“ Todosï¼Œç„¶åæ¯ä¸€é¡¹ä½¿ç”¨ä¸€ä¸ª ListTile å±•ç¤ºã€‚æ–°å¢ï¼Œç¼–è¾‘å’Œåˆ é™¤å¯¹åº”äº† 3 ä¸ªä¸åŒçš„éƒ¨ä»¶ï¼Œåˆ†åˆ«æ˜¯ AddTodoButton()ï¼ŒEditTodoButton()ï¼Œ RemoveTodoButton()</p><pre><code class="dart">// todos_page.dart

import &#39;package:flutter/material.dart&#39;;
import &#39;package:provider/provider.dart&#39;;

import &#39;store/todos.dart&#39;;
import &#39;widget/add_todo_button.dart&#39;;
import &#39;widget/edit_todo_button.dart&#39;;
import &#39;widget/remove_todo_button.dart&#39;;

class TodosPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text(&#39;Flutter Provider Todos&#39;)),
      body: Consumer&lt;Todos&gt;(
        builder: (ctx, todos, child) {
          List&lt;Todo&gt; items = todos.items;

          return ListView.builder(
            itemCount: items.length,
            itemBuilder: (_, index) =&gt; Column(
              children: &lt;Widget&gt;[
                ListTile(
                  title: Text(
                    items[index].thing,
                    style: TextStyle(
                      color: items[index].finish ? Colors.green : Colors.grey,
                    ),
                  ),
                  trailing: Container(
                    width: 150,
                    child: Row(
                      mainAxisAlignment: MainAxisAlignment.end,
                      children: &lt;Widget&gt;[
                        EditTodoButton(todoIndex: index),
                        RemoveTodoButton(todoIndex: index),
                      ],
                    ),
                  ),
                ),
                Divider(),
              ],
            ),
          );
        },
      ),
      floatingActionButton: AddTodoButton(),
      floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,
    );
  }
}
</code></pre><h3 id="å®ç°åŠŸèƒ½"><a href="#å®ç°åŠŸèƒ½" class="headerlink" title="å®ç°åŠŸèƒ½"></a>å®ç°åŠŸèƒ½</h3><p>æ¥ä¸‹æ¥å°±æ˜¯è¦å®ç°è¿™ 3 ä¸ªæŒ‰é’®äº†ï¼Œåœ¨ widget ç›®å½•åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶ï¼Œæ¯ä¸ªæŒ‰é’®éƒ½ä¼šä½¿ç”¨åˆ° Todos ç±»é‡Œé¢å®šä¹‰çš„æ–¹æ³•ï¼Œæ‰€ä»¥éƒ½éœ€è¦å¯¼å…¥ provider å’Œ Todos ç±»ï¼Œç‚¹å‡»æŒ‰é’®ä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†è¯¢é—®å¯¹åº”çš„æ“ä½œï¼Œ</p><img src="images/todos-widget.jpg" style="max-width:360px"><p>æ·»åŠ  Todo æŒ‰é’®</p><pre><code class="dart">import &#39;package:flutter/material.dart&#39;;
import &#39;package:provider/provider.dart&#39;;

import &#39;../store/todos.dart&#39;;

class AddTodoButton extends StatefulWidget {
  @override
  _AddTodoButtonState createState() =&gt; _AddTodoButtonState();
}

class _AddTodoButtonState extends State&lt;AddTodoButton&gt; {
  final _formKey = GlobalKey&lt;FormState&gt;();
  final _controller = TextEditingController();

  @override
  void dispose() {
    _formKey.currentState.dispose();
    _controller.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Consumer&lt;Todos&gt;(
      builder: (_, todos, child) {
        return FloatingActionButton(
          child: Icon(Icons.add),
          onPressed: () {
            print(&#39;add todo&#39;);
            return showDialog(
              context: context,
              builder: (BuildContext _) {
                return SimpleDialog(
                  title: Text(&#39;æ·»åŠ  Todo&#39;),
                  contentPadding: const EdgeInsets.all(24.0),
                  children: &lt;Widget&gt;[
                    Form(
                      key: _formKey,
                      child: Column(
                        children: &lt;Widget&gt;[
                          TextFormField(
                            autofocus: true,
                            autovalidate: false,
                            controller: _controller,
                            keyboardType: TextInputType.text,
                            decoration: InputDecoration(
                              border: OutlineInputBorder(),
                              labelText: &#39;è¾“å…¥ä½ æƒ³åšçš„äº‹&#39;,
                            ),
                            validator: (val) {
                              if (val.isEmpty) {
                                return &#39;æƒ³åšçš„äº‹ä¸èƒ½ä¸ºç©º&#39;;
                              }

                              bool isExist = todos.isTodoExist(val);

                              if (isExist) {
                                return &#39;è¿™ä»¶äº‹æƒ…å·²ç»å­˜åœ¨äº†&#39;;
                              }
                              return null;
                            },
                          ),
                          SizedBox(height: 20),
                          Row(
                            mainAxisAlignment: MainAxisAlignment.end,
                            children: &lt;Widget&gt;[
                              FlatButton(
                                child: Text(&#39;å–æ¶ˆ&#39;),
                                onPressed: () {
                                  Navigator.pop(context);
                                },
                              ),
                              RaisedButton(
                                child: Text(
                                  &#39;ç¡®å®š&#39;,
                                  style: TextStyle(color: Colors.white),
                                ),
                                color: Theme.of(context).primaryColor,
                                onPressed: () {
                                  final isValid =
                                      _formKey.currentState.validate();

                                  if (!isValid) {
                                    return;
                                  }

                                  final thing = _controller.value.text;

                                  todos.addTodo(Todo(
                                    thing: thing,
                                    finish: false,
                                  ));
                                  _controller.clear();
                                  Navigator.pop(context);
                                },
                              )
                            ],
                          ),
                        ],
                      ),
                    ),
                  ],
                );
              },
            );
          },
        );
      },
    );
  }
}
</code></pre><img src="https://github.com/xrr2016/flutter_provider_todos/raw/master/add-todo.png" width="360" style="max-width:360px"><p>ç¼–è¾‘ Todo æŒ‰é’®</p><pre><code class="dart">import &#39;package:flutter/material.dart&#39;;
import &#39;package:provider/provider.dart&#39;;

import &#39;../store/todos.dart&#39;;

class EditTodoButton extends StatefulWidget {
  final todoIndex;

  const EditTodoButton({Key key, this.todoIndex}) : super(key: key);

  @override
  _EditTodoButtonState createState() =&gt; _EditTodoButtonState();
}

class _EditTodoButtonState extends State&lt;EditTodoButton&gt; {
  final _formKey = GlobalKey&lt;FormState&gt;();

  @override
  void dispose() {
    _formKey?.currentState?.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return Consumer&lt;Todos&gt;(
      builder: (context, todos, child) {
        final todoIndex = widget.todoIndex;
        final Todo todo = todos.items[todoIndex];

        return IconButton(
          color: Colors.blue,
          icon: Icon(Icons.edit),
          onPressed: () {
            return showDialog(
              context: context,
              builder: (context) {
                return SimpleDialog(
                  title: Text(&#39;ç¼–è¾‘ Todo&#39;),
                  contentPadding: const EdgeInsets.all(24.0),
                  children: &lt;Widget&gt;[
                    Form(
                      key: _formKey,
                      child: Column(
                        children: &lt;Widget&gt;[
                          TextFormField(
                            autofocus: false,
                            autovalidate: false,
                            initialValue: todo.thing,
                            decoration: InputDecoration(
                              border: OutlineInputBorder(),
                              labelText: &#39;è¾“å…¥ä½ æƒ³åšçš„äº‹&#39;,
                            ),
                            onChanged: (val) {
                              todo.thing = val;
                            },
                            validator: (val) {
                              if (val.isEmpty) {
                                return &#39;æƒ³åšçš„äº‹ä¸èƒ½ä¸ºç©º&#39;;
                              }
                              return null;
                            },
                          ),
                          SizedBox(height: 20),
                          SwitchListTile(
                            title: const Text(&#39;æ˜¯å¦å®Œæˆ&#39;),
                            value: todo.finish,
                            onChanged: (bool value) {
                              todo.finish = value;
                            },
                          ),
                          SizedBox(height: 20),
                          Row(
                            mainAxisAlignment: MainAxisAlignment.end,
                            children: &lt;Widget&gt;[
                              FlatButton(
                                child: Text(&#39;å–æ¶ˆ&#39;),
                                onPressed: () =&gt; Navigator.pop(context),
                              ),
                              RaisedButton(
                                child: Text(
                                  &#39;ç¡®å®š&#39;,
                                  style: TextStyle(color: Colors.white),
                                ),
                                color: Theme.of(context).primaryColor,
                                onPressed: () {
                                  final isValid =
                                      _formKey.currentState.validate();

                                  if (!isValid) {
                                    return;
                                  }

                                  Navigator.pop(context);

                                  todos.editTodo(
                                    todoIndex,
                                    todo.thing,
                                    todo.finish,
                                  );
                                },
                              )
                            ],
                          ),
                        ],
                      ),
                    ),
                  ],
                );
              },
            );
          },
        );
      },
    );
  }
}
</code></pre><img src="https://github.com/xrr2016/flutter_provider_todos/raw/master/edit-todo.png" width="360" style="max-width:360px"><p>åˆ é™¤ Todo æŒ‰é’®</p><pre><code class="dart">import &#39;package:flutter/material.dart&#39;;
import &#39;package:provider/provider.dart&#39;;

import &#39;../store/todos.dart&#39;;

class RemoveTodoButton extends StatelessWidget {
  final int todoIndex;

  const RemoveTodoButton({Key key, this.todoIndex}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Consumer&lt;Todos&gt;(builder: (_, todos, child) {
      final Todo todo = todos.items[todoIndex];

      return IconButton(
        color: Colors.red,
        icon: Icon(Icons.delete),
        onPressed: () {
          print(&#39;delete todo&#39;);
          showDialog(
            context: context,
            builder: (BuildContext context) {
              return AlertDialog(
                title: Text(&#39;ç¡®è®¤åˆ é™¤ ${todo.thing}?&#39;),
                actions: &lt;Widget&gt;[
                  FlatButton(
                    child: Text(
                      &#39;å–æ¶ˆ&#39;,
                      style: TextStyle(color: Colors.grey),
                    ),
                    onPressed: () =&gt; Navigator.pop(context),
                  ),
                  FlatButton(
                    child: Text(&#39;ç¡®è®¤&#39;),
                    onPressed: () {
                      todos.removeTodo(todoIndex);
                      Navigator.pop(context);
                    },
                  ),
                ],
              );
            },
          );
        },
      );
    });
  }
}
</code></pre><img src="https://github.com/xrr2016/flutter_provider_todos/raw/master/remove-todo.png" width="360" style="max-width:360px"><p>å¯ä»¥çœ‹åˆ°è¦ä½¿ç”¨å¯¹åº”çš„æ–¹æ³•éœ€è¦çš„åªæ˜¯å‘å¯¹åº”çš„éƒ¨ä»¶æ³¨å…¥è¿™ä¸ªæ•°æ®ï¼Œç„¶åä½¿ç”¨å°±å¯ä»¥äº†</p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>ä½¿ç”¨äº† provider åï¼Œæ•°æ®ä»¥åŠå¯¹ä¸€ä¸ª Todo çš„æ“ä½œéƒ½æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢äº†ï¼Œä¸ç”¨åœ¨å¤šä¸ªå±‚çº§é—´ä¼ é€’æ•°æ®ï¼Œå¹¶ä¸”åœ¨æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°äº† UIï¼Œæ‰€ä»¥æ˜¯ååˆ†æœ‰å¿…è¦çš„ã€‚</p></section></article><section class="prev-next card slide-in-right"><a href="/post/2019/09/23/flutter-provider-todos-02/" class="link prev" title="ä½¿ç”¨ Provider ç®¡ç† Flutter åº”ç”¨çŠ¶æ€ (ä¸‹)"><span class="hover-underline-animation">&larr; ä½¿ç”¨ Provider ç®¡ç† Flutter åº”ç”¨çŠ¶æ€ (ä¸‹)</span> </a><a href="/post/2019/09/08/dsa-hash/" class="link next" title="æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹å“ˆå¸Œè¡¨"><span class="hover-underline-animation">æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹å“ˆå¸Œè¡¨ &rarr;</span></a></section><section class="card article-toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#å‰è¨€"><span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä»€ä¹ˆæ˜¯-Provider"><span class="toc-text">ä»€ä¹ˆæ˜¯ Provider</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨-Provider"><span class="toc-text">ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Provider</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¸€ä¸ªä¾‹å­-ğŸŒ°"><span class="toc-text">ä¸€ä¸ªä¾‹å­ ğŸŒ°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#åˆ›å»ºåº”ç”¨"><span class="toc-text">åˆ›å»ºåº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#åˆ—è¡¨é¡µé¢"><span class="toc-text">åˆ—è¡¨é¡µé¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®ç°åŠŸèƒ½"><span class="toc-text">å®ç°åŠŸèƒ½</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç»“è¯­"><span class="toc-text">ç»“è¯­</span></a></li></ol></section><section class="article slide-in-right"><div class="loader" id="loader"><svg viewBox="0 0 50 50"><circle class="ring" cx="25" cy="25" r="20"></circle><circle class="ball" cx="25" cy="5" r="3.5"></circle></svg></div><div class="comment" id="utteranc"></div><noscript>Please activate JavaScript for normal use of comments</noscript></section><a class="card back-to-top" id="backTop">&UpArrow;</a></main><script>window.COLD_STONE={repo:"",gaid:"UA-119658292-2"}</script><script>window.COLD_STONE.repo="xrr2016/blog"</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.9/highlight.min.js"></script><script src="/scripts/cold-stone.js"></script><script src="//www.googletagmanager.com/gtag/js?id=UA-119658292-2"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config",window.COLD_STONE.gaid)</script></body></html>